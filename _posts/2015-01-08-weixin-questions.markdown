---
title: 微信三问三答
date: 2015-01-08 19:48:38 +0800
layout: post
current: post
cover:  assets/images/welcome.jpg
navigation: True
tags: [Source code]
class: post-template
subclass: 'post tag-getting-started'
author: Drinking
comments: true
---

这是一道知乎上引起广泛讨论的问题，具体查看[这里](http://www.zhihu.com/question/27345775)。

### 朋友圈为什么不调整到首屏，为什么路径这么深?
从定位上来说。微信的核心是即时通讯，朋友圈是其衍生品。层次低一级。

从内容上来说。一个普通人的朋友数量有限，且朋友圈的鸡汤、代购一经过滤，有价值的内容留存很少。
和微博、知乎这种内容主导的平台完全不同，占据第一入口会极其浪费。

对腾讯而言，能为它带来利益具有战略意义的是购物、游戏、钱包。这些没有放到第一入口已算克制了。朋友圈还要啥自行车。

从使用习惯上来说，放得深并没有影响使用热情。所以也就没有必要再放出来了吧。

### 朋友圈的基本数据结构设计是怎么样的？既能做到完美阅读权限设置，又能兼顾性能？

自己对数据库认识有限，所以只能说些粗鄙的想法。

每个用户都有自己的朋友圈队列，这里存放的是有权限阅读的内容id。
用户在发一条朋友圈的时候，服务器会筛选出拥有阅读权限的用户（或者客户端可以进行一部分筛选），然后把内容id添加入每一个有权阅读用户的朋友圈队列。这里会存在大量写入，不知道会有何瓶颈，好在每个用户相对独立且实时性要求不是那么高。
用户在刷新朋友圈时只需要从自己的队列中拿到id并索引出相应的内容即可。

另外评论中的查看权限，我觉得可以在客户端本地屏蔽处理，只是会耗费一些额外流量。

### 如果你是微信的产品经理，你会最优先做哪一个功能的改进？简述理由。

这一条我很赞同的一个观点，就是我们不能拿自己的喜好去忖度一个产品。所以，还是要让用户、让数据说话。

可以根据访问量调整功能入口的层级。可以深入拓展和开发使用频率高的功能。还有一些用户看不到的，代码层面上的质量或性能问题，产品经理也应当有所重视。

就我个人而言，我比较倾向于完善收藏功能。能够便于自己整理收藏的图文，最好能在电脑端操作，并导出到相应的平台。